# Python Bytecode (3.6.0a)

The following is the hexdump of the bytecode from the script `Custom/class.py`.
```
00000000  21 0d 0d 0a ba 84 71 57  0a 01 00 00 e3 00 00 00  |!.....qW........|
00000010  00 00 00 00 00 00 00 00  00 04 00 00 00 40 00 00  |.............@..|
00000020  00 73 39 00 00 00 47 64  00 00 64 01 00 84 00 00  |.s9...Gd..d.....|
00000030  64 01 00 65 00 00 83 03  00 5a 01 00 64 02 00 64  |d..e.....Z..d..d|
00000040  03 00 84 00 00 5a 02 00  65 03 00 64 04 00 6b 02  |.....Z..e..d..k.|
00000050  00 72 35 00 65 02 00 83  00 00 01 64 05 00 53 29  |.r5.e......d..S)|
00000060  06 63 00 00 00 00 00 00  00 00 00 00 00 00 02 00  |.c..............|
00000070  00 00 40 00 00 00 73 28  00 00 00 65 00 00 5a 01  |..@...s(...e..Z.|
00000080  00 64 00 00 5a 02 00 64  01 00 64 02 00 84 00 00  |.d..Z..d..d.....|
00000090  5a 03 00 64 03 00 64 04  00 84 00 00 5a 04 00 64  |Z..d..d.....Z..d|
000000a0  05 00 53 29 06 da 07 4d  79 43 6c 61 73 73 63 02  |..S)...MyClassc.|
000000b0  00 00 00 00 00 00 00 02  00 00 00 02 00 00 00 43  |...............C|
000000c0  00 00 00 73 0d 00 00 00  7c 01 00 7c 00 00 5f 00  |...s....|..|.._.|
000000d0  00 64 00 00 53 29 01 4e  29 01 da 0b 5f 4d 79 43  |.d..S).N)..._MyC|
000000e0  6c 61 73 73 5f 5f 78 29  02 da 04 73 65 6c 66 da  |lass__x)...self.|
000000f0  01 78 a9 00 72 05 00 00  00 fa 08 63 6c 61 73 73  |.x..r......class|
00000100  2e 70 79 da 08 5f 5f 69  6e 69 74 5f 5f 05 00 00  |.py..__init__...|
00000110  00 73 02 00 00 00 00 01  7a 10 4d 79 43 6c 61 73  |.s......z.MyClas|
00000120  73 2e 5f 5f 69 6e 69 74  5f 5f 63 01 00 00 00 00  |s.__init__c.....|
00000130  00 00 00 01 00 00 00 01  00 00 00 43 00 00 00 73  |...........C...s|
00000140  07 00 00 00 7c 00 00 6a  00 00 53 29 01 4e 29 01  |....|..j..S).N).|
00000150  72 02 00 00 00 29 01 72  03 00 00 00 72 05 00 00  |r....).r....r...|
00000160  00 72 05 00 00 00 72 06  00 00 00 72 04 00 00 00  |.r....r....r....|
00000170  08 00 00 00 73 02 00 00  00 00 01 7a 09 4d 79 43  |....s......z.MyC|
00000180  6c 61 73 73 2e 78 4e 29  05 da 08 5f 5f 6e 61 6d  |lass.xN)...__nam|
00000190  65 5f 5f da 0a 5f 5f 6d  6f 64 75 6c 65 5f 5f da  |e__..__module__.|
000001a0  0c 5f 5f 71 75 61 6c 6e  61 6d 65 5f 5f 72 07 00  |.__qualname__r..|
000001b0  00 00 72 04 00 00 00 72  05 00 00 00 72 05 00 00  |..r....r....r...|
000001c0  00 72 05 00 00 00 72 06  00 00 00 72 01 00 00 00  |.r....r....r....|
000001d0  04 00 00 00 73 04 00 00  00 0c 01 0c 03 72 01 00  |....s........r..|
000001e0  00 00 63 00 00 00 00 00  00 00 00 01 00 00 00 02  |..c.............|
000001f0  00 00 00 43 00 00 00 73  20 00 00 00 74 00 00 64  |...C...s ...t..d|
00000200  01 00 83 01 00 7d 00 00  74 01 00 7c 00 00 6a 02  |.....}..t..|..j.|
00000210  00 83 00 00 83 01 00 01  64 02 00 53 29 03 4e e9  |........d..S).N.|
00000220  02 00 00 00 e9 00 00 00  00 29 03 72 01 00 00 00  |.........).r....|
00000230  da 05 70 72 69 6e 74 72  04 00 00 00 29 01 5a 02  |..printr....).Z.|
00000240  6d 63 72 05 00 00 00 72  05 00 00 00 72 06 00 00  |mcr....r....r...|
00000250  00 da 04 6d 61 69 6e 0c  00 00 00 73 06 00 00 00  |...main....s....|
00000260  00 01 0c 01 10 01 72 0e  00 00 00 da 08 5f 5f 6d  |......r......__m|
00000270  61 69 6e 5f 5f 4e 29 04  da 06 6f 62 6a 65 63 74  |ain__N)...object|
00000280  72 01 00 00 00 72 0e 00  00 00 72 08 00 00 00 72  |r....r....r....r|
00000290  05 00 00 00 72 05 00 00  00 72 05 00 00 00 72 06  |....r....r....r.|
000002a0  00 00 00 da 08 3c 6d 6f  64 75 6c 65 3e 04 00 00  |.....<module>...|
000002b0  00 73 06 00 00 00 16 08  0c 06 0c 01              |.s..........|
000002bc
```

## Explanation of bytes
0x0 - 0x25: ???

### Execution Code
0x26: LOAD_BUILD_CLASS
  - Pushes builtins.__build_class__() onto the stack. It is later called by CALL_FUNCTION to construct a class.
0x27 - 0x29: LOAD_CONST
  - Pushes co_consts[0] onto the stack.
    - <code object MyClass at 0x7f1516c48930, file "Custom/class.py", line 4>
0x2A - 0x2C: LOAD_CONST
  - Pushes co_consts[1] onto the stack.
    - "MyClass"
0x2D - 0x2F: MAKE_FUNCTION
  - Create a MyClass function from the builtins, code object MyClass, and "MyClass" which were added onto the stack earlier. This is for creating the MyClass class constructor, not the class itself or instances of the class.
  - Parameters do not have annotations, so the length of argc is only 2 bytes.
  - After this instruction, the stack consists of the build_class function loaded by LOAD_BUILD_CLASS, and this newly created function.
0x30 - 0x32: LOAD_CONST
  - Push "MyClass" onto stack
0x33 - 0x35: LOAD_NAME
  - Load co_names[0] onto the stack (object).
0x36 - 0x38: CALL_FUNCTION
  - Call whatever class creater function was loaded in LOAD_BUILD_CLASS.
    - Something along the lines of: build_class(class_constructor_func, "MyClass", object)
  - Pushes the returned instance constructor to the stack.
0x39 - 0x3B: STORE_NAME
  - Store the pointer to this contructor at the top of the stack into co_names[1] (MyClass).
  - This does pop the value from the stack.
  - After this point, the stack is empty.
0x3C - 0x3E: LOAD_CONST
  - Load the main method code object to the stack.
0x3F - 0x41: LOAD_CONST
  - Load "main" onto the stack.
0x42 - 0x44: MAKE_FUNCTION
  - Create the main method from the code object and "main"
0x45 - 0x47: STORE_NAME
  - Store the main method function into co_names[2] (main).
  - After this point, the stack is empty.
0x48 - 0x4A: LOAD_NAME
  - Load value at co_names[3] (__name__) onto the stack.
0x4B - 0x4D: LOAD_CONST
  - Load co_consts[4] ("__main__") onto stack.
0x4E - 0x50: COMPARE_OP
  - Compare the boolean option at cmp_op[2] (==) on the top 2 values of the stack and pop the result onto the stack.
0x51 - 0x53: POP_JUMP_IF_FALSE
  - Pop the value of the top of the stack. If false, set bytecode counter to 53.
0x54 - 0x56: LOAD_NAME
  - Load main function from co_names[2].
0x57 - 0x59: CALL_FUNCTION
  - Call main method with no arguments.
0x5A: POP_TOP
    Pop (remove) whatever result is on the stack.
0x5B - 0x5D: LOAD_CONST
  - Load co_consts[5] (None) onto stack.
0x5E: RETURN_VALUE
  - Return TOS to this function caller.
  - The stack is empty at this point.

### Observations
- It seems that the functions are built and placed into co_consts at compile time, not runtime.

## Remainder
0x5F - 0x2BB: ???

